# 共用体
特殊的数据类型，允许在**相同的内存位置**存储**不同的数据类型**。

一个共用体可以拥有**多个成员**，但是任何时候**只能有一个成员**带有值。

## 示例
```c
union Data{
    int i;
    float f;
    char str[20];
} data;
```

对于 `data` 这块内存空间，它可以是**一个整数**、**一个浮点数**，或者**一个字符串**。自然地，共用体占用的空间是**所有成员中占用最大的那个**。

## 访问共用体
使用与结构体相同的**成员访问运算符 `.`**。

```c
data.i=10;
printf("%d\n", data.i); // 10
```

但是，如果我同时对共用体中的所有成员同时赋值，却会出现以下结果：

```c
data.i=10;
data.f=114.514;
strcpy(data.str, "Hello");

printf("%d\n", data.i);
printf("%f\n", data.f);
printf("%s\n", data.str);

/*

输出：
1819043144
1143139122437582505939828736.000000
Hello

*/
```

这是因为最后赋给变量的值占用了内存位置，也就是说，最后对 `str` 赋值的时候，**破坏了原来的 `i` 和 `f` 的内存空间**。

为使三个成员都能正确输出，我们只需要**在覆写之前把它输出就行了**（毕竟破坏上一个成员的内存空间这事，是不能避免的）。

```c
data.i=10;
printf("%d\n", data.i);

data.f=114.514;
printf("%f\n", data.f);
    
strcpy(data.str, "Hello");
printf("%s\n", data.str);

/*

输出：
10
114.514000
Hello

*/
```

这就正常了。