# 红黑树
一种**自平衡**的**二叉查找树**，它的性质如下：
1. **根节点**是**黑色**。
2. 每个节点只有两种颜色：**红**、**黑**。
3. 所有**叶子**节点都是**黑色**的。
4. 每个**红色节点**的两个子节点**都是黑色的**。
5. 从**任一节点**到其每个叶子的**所有简单路径**都包含**相同数目的黑色节点**。

这些特殊的性质保证了红黑树的查找、插入和删除操作的高效性。究其原因就是这些性质保持了树的平衡，使得最长路径和最短路径的长度差不会太大。

而最核心的地方就是第 5 条性质，它也是最难理解的。要想解释这个性质，我们需要了解一个概念：**黑色高度**。

“黑色高度” 是指从一个节点到达其叶子节点的路径上，黑色节点的数量。那么这个性质就可以表示为：

> 从任意节点到其每个叶子节点的所有最短路径，它的黑色高度是相等的。

对于红黑树，由于**红色节点不能连续出现**，且任意节点的黑色高度相等，这也就是说，无论从哪个节点出发，经过的路径中黑色节点数量是相同的。因此，红黑树中黑色节点的分布**一定是均匀的**。

那么，为了实现这样一个性质，设计红黑树时，我们必须**对红色节点进行合理安排**。在分配的过程中，红色节点在树中也就**均匀分配**了。

而当我们对红黑树进行查找、插入、删除操作时，“黑色高度相同”这条性质确保了树的整体结构是相对均衡的，不会出现某条路径特别长的情况，这样我们也避免了“二叉树退化成链表”那种情况的发生。